!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).emailsinput={})}(this,(function(e){"use strict";var t=function(e,t){for(var n in t)e.style[n]=t[n];return e},n=function(e,n){var i=document.createElement(e);if(!n)return i;var a=n.attributes,r=n.styling;for(var l in a)i[l]=a[l];return r&&t(i,r),i},i={border:"1px solid #C3C2CF",borderRadius:"4px",background:"#FFFFFF",padding:"6px 7px 8px 7px",height:"100%",overflowY:"scroll"},a={display:"inline-block",background:"rgba(102, 153, 255, 0.2)",borderRadius:"100px",fontSize:"14px",lineHeight:"24px",color:"#050038",padding:"4px 10px",margin:"0px 4px 0 0"},r={backgroundColor:"white",borderBottom:"1px dashed #D92929",borderRadius:"0px",padding:"4px 0px",margin:"4px 8px 0px 4px"},l={backgroundImage:"url(\"data:image/svg+xml,%3C%3Fxml version='1.0' %3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg enable-background='new 0 0 32 32' id='Слой_1' version='1.1' viewBox='0 0 32 32' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cpath d='M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0 l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286 c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0 c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z' fill='%23121313' id='Close'/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3Cg/%3E%3C/svg%3E\")",border:"none",width:"17px",height:"17px",backgroundColor:"transparent",backgroundSize:"contain",backgroundRepeat:"no-repeat",borderRadius:"0px",padding:"0px",position:"relative",top:"5px",left:"3px"},u={border:"none",display:"inline-block",outline:"none",padding:"4px 0px",margin:"4px 8px 0px 4px"},s=function(e,s){var o=this;void 0===s&&(s=""),this.initialise=function(){o.inputElement.type="hidden",o.listenInputTargetChange(),o.renderInitial()},this.listenInputTargetChange=function(){var e=o;Object.defineProperty(o.inputElement,"value",{get:function(){return this._value},set:function(t){this._value=t,e.renderLabels(this.previousSibling.firstChild)}})},this.renderInitial=function(){var e,t=n("div",{attributes:{className:null!=(e=o.className)?e:"emails-input"},styling:i}),a=n("span"),r=n("input",{attributes:{type:"email",placeholder:"add more people..."},styling:u});t.appendChild(a),t.appendChild(r),a.addEventListener("click",(function(e){e.target.classList.contains("__delete-email-button")&&o.deleteEmail(+e.target.id.substring(15))})),t.addEventListener("click",(function(e){e.currentTarget.getElementsByTagName("input")[0].focus()})),r.addEventListener("keydown",o.handleKeyInput),r.addEventListener("paste",o.handlePaste),r.addEventListener("blur",o.handleBlur),o.inputElement.parentNode.insertBefore(t,o.inputElement)},this.getEmails=function(){return o.inputElement.value?o.inputElement.value.split(","):[]},this.deleteEmail=function(e){var t=o.getEmails();t.splice(e,1),o.inputElement.value=t.toString()},this.addEmail=function(e){e&&(o.inputElement.value=o.inputElement.value?o.inputElement.value+", "+e.trim():e.trim())},this.renderLabels=function(e){e.innerHTML="",o.getEmails().forEach((function(t,n){var i=o.createDeleteButton(n),a=o.createEmailLabel(t);a.appendChild(i),e.appendChild(a)}))},this.createEmailLabel=function(e){var i=n("div",{styling:a});return i.innerHTML=e,function(e){return/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(e)}(e)||t(i,r),i},this.createDeleteButton=function(e){return n("button",{attributes:{id:"__delete-label-"+e.toString(),className:"__delete-email-button"},styling:l})},this.handleKeyInput=function(e){var t=e.target.value;d(e.key)&&(e.preventDefault(),o.addEmail(t),e.target.value="")},this.handlePaste=function(e){setTimeout((function(){var t=e.target.value.trim();","===t.charAt(t.length-1)&&(t=t.slice(0,-1)),o.addEmail(t),e.target.value=""}),100)},this.handleBlur=function(e){o.addEmail(e.target.value),e.target.value=""},this.inputElement=e,this.initialise(),this.className=s},d=function(e){switch(e){case"Enter":case",":return!0;default:return!1}};e.create=function(e){new s(e)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=emailsinput.umd.production.min.js.map
